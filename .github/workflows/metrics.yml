name: GitHub Metrics

on:
  schedule: [{ cron: "0 0 * * *" }] # ë§¤ì¼ ì˜¤ì „ 9ì‹œ (UTC ê¸°ì¤€ 0ì‹œ, í•œêµ­ ì‹œê°„ ì˜¤ì „ 9ì‹œ)
  workflow_dispatch:

jobs:
  github-metrics:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: lowlighter/metrics@latest
        with:
          filename: github-metrics.svg
          token: ${{ secrets.METRICS_TOKEN }}
          committer_token: ${{ secrets.GITHUB_TOKEN }}
          user: MiraclePlayTeam
          template: classic
          base: header, activity, community, repositories, metadata
          config_timezone: Asia/Seoul
          committer_message: "Update metrics [Skip GitHub Action]"

          # ğŸ­ ê¸°ë³¸ ì„¤ì •
          config_display: large
          config_animations: yes
          config_padding: 10%

          # ğŸ† ì„±ê³¼ í‘œì‹œ
          plugin_achievements: yes
          plugin_achievements_display: detailed
          plugin_achievements_threshold: B # ë” ë§ì€ ì„±ê³¼ í‘œì‹œ (C=ì ìŒ, B=ë³´í†µ, A=ë§ìŒ)

          # ğŸ—‚ï¸ ì£¼ìš” í”„ë¡œì íŠ¸
          plugin_projects: yes
          plugin_projects_limit: 4

          # ğŸ”¤ ì–¸ì–´ í†µê³„
          plugin_languages: yes
          plugin_languages_ignored: html,css
          plugin_languages_limit: 8
          plugin_languages_details: bytes-size, percentage
          plugin_languages_sections: most-used, recently-used
          plugin_languages_colors: github
          plugin_languages_threshold: 0%

          # ğŸ”¥ í™œë™ í†µê³„
          plugin_traffic: yes
          plugin_lines: yes
          plugin_followup: yes
          plugin_followup_sections: repositories, user

          # ğŸ“… ì´ìŠˆ & PR í™œë™
          plugin_isocalendar: yes
          plugin_isocalendar_duration: full-year # 1ë…„ ì „ì²´ í™œë™ í‘œì‹œ

          # ğŸ“Š ì €ì¥ì†Œ ê¸°ì—¬ë„
          plugin_contributors: yes
          plugin_contributors_head: master
          plugin_contributors_ignored: github-actions[bot], dependabot[bot]

          # â±ï¸ ì£¼ê°„ í™œë™ ë¦¬ë“¬
          plugin_habits: yes
          plugin_habits_facts: yes
          plugin_habits_charts: yes
          plugin_habits_from: 200 # ë” ë§ì€ ê¸°ë¡ ë¶„ì„

          # ğŸ† ë¦¬í¬ì§€í† ë¦¬ í†µê³„
          plugin_repositories: yes
          plugin_repositories_featured: MiraclePlayTeam/miracle-apex,MiraclePlayTeam/miracle-server,MiraclePlayTeam/miracle-chain-api

          # ğŸ’¬ ìµœê·¼ í™œë™ íƒ€ì„ë¼ì¸
          plugin_activity: yes
          plugin_activity_limit: 10
          plugin_activity_days: 30
          plugin_activity_filter: all
          plugin_activity_visibility: public

          # ğŸŒ ì†Œì…œ & ì»¤ë®¤ë‹ˆí‹°
          plugin_people: yes
          plugin_people_types: followers, following
          plugin_people_limit: 24
          plugin_people_size: 28
